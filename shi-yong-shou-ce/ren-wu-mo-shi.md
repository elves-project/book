# 任务模式

在了解任务模式及类型前，我们先来来接一下Elves有哪些实现

* 以发起方式角度来看，一次APP的执行有两种方式：1、由Elves-Agent端发起，2、由Elves-Center发起；
* 从任务的执行方式开看有：1、异步执行，2、同步执行；
* 从APP执行的后续处理来看有：1、处理型，2、非处理型，处理型即APP执行结果将反馈至用户自定义的Processor，非处理型即执行结果不反馈至用户Processor

从上面三个角度出发共组装成了5中工作模式，并由归属于不同的任务

1. **AANP Agent端发起，异步执行，非处理型**
2. **AAP Agent端发起，异步执行，处理型**
3. **CANP Center端发起，异步执行，非处理型**
4. **CAP Center端发起，异步执行，处理型**
5. **CSNP Center端发起，同步执行，非处理型**

![](/assets/modeandtype.png)

# 任务类型

Elves中共有三种类型的任务，分别为及时任务，队列任务与计划任务，从字面就可以理解其含义。

## 及时任务

及时任务只支持CSNP模式，用户通过API发送即时任务后将阻塞等待APP执行结果的反馈

## 队列任务

队列任务支持2种模式，1、CANP模式，2、CAP模式 用户需要使用API先创建队列，添加队列中任务，提交队列后任务开始执行，如需获取执行结果，使用方需要另行发起请求，Elves的队列任务支持任务间的依赖。

## 计划任务

计划任务支持4种模式，1、AANP模式，2、AAP模式，3、CANP模式，4、CAP模式。其中由Agent端发起的任务Elves-Center无法进行监控与追踪。用户可以根据规则设置有Elves-Center端发起的计划任务

